# Sage MCP 环境变量配置模板
# 复制此文件为 .env 并填入您的实际配置

# ===== 必需配置 =====

# SiliconFlow API Key（用于向量嵌入）
# 获取地址：https://siliconflow.cn
SILICONFLOW_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# 数据库配置
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sage_memory
DB_USER=sage
DB_PASSWORD=sage_password

# ===== 可选配置 =====

# 记忆检索配置
SAGE_MAX_RESULTS=5                # 返回的记忆条数（默认：5）
SAGE_ENABLE_RERANK=true          # 启用神经网络重排序（默认：true）
SAGE_ENABLE_SUMMARY=true         # 启用LLM压缩摘要（默认：true）
SAGE_SIMILARITY_THRESHOLD=0.5    # 相似度阈值（默认：0.5）

# 性能优化配置
SAGE_CACHE_SIZE=500              # 缓存大小（默认：500）
SAGE_CACHE_TTL=300               # 缓存过期时间，秒（默认：300）
SAGE_MAX_MEMORY_MB=2048          # 最大内存限制，MB（默认：2048）
SAGE_MAX_CONCURRENT_OPS=10       # 最大并发操作数（默认：10）

# 自动功能配置
SAGE_AUTO_SAVE_ENABLED=true      # 启用自动保存（默认：true）
SAGE_AUTO_SAVE_MIN_MESSAGES=4    # 自动保存最小消息数（默认：4）
SAGE_AUTO_SAVE_IDLE_TIMEOUT=300  # 自动保存空闲超时，秒（默认：300）

# 日志配置
SAGE_DEBUG=false                 # 启用调试日志（默认：false）
SAGE_LOG_LEVEL=INFO              # 日志级别（DEBUG/INFO/WARNING/ERROR）
SAGE_LOG_FILE=/tmp/sage_mcp.log  # 日志文件路径

# MCP服务器配置
MCP_HOST=0.0.0.0                 # 监听地址（默认：0.0.0.0）
MCP_PORT=17800                   # 监听端口（默认：17800）

# 实验性功能（谨慎使用）
SAGE_EXPERIMENTAL_FEATURES=false # 启用实验性功能（默认：false）
SAGE_AUTO_CONTEXT_INJECTION=true # 自动上下文注入（默认：true）
SAGE_TRANSPARENT_MEMORY=true     # 透明记忆模式（默认：true）

# ===== Docker配置（仅在使用Docker时需要）=====

# PostgreSQL配置
POSTGRES_USER=sage
POSTGRES_PASSWORD=sage_password
POSTGRES_DB=sage_memory

# pgvector扩展
POSTGRES_INIT_SCRIPTS=/docker-entrypoint-initdb.d