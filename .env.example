# Sage MCP Server 环境变量配置示例
# 复制此文件为 .env 并根据您的环境修改相应的值

# ===========================================
# 基础配置
# ===========================================

# 运行环境 (development/production)
SAGE_ENV=production

# 日志级别 (DEBUG/INFO/WARNING/ERROR)
SAGE_LOG_LEVEL=INFO

# 日志目录路径
SAGE_LOG_DIR=/var/log/sage

# 最大搜索结果数量
SAGE_MAX_RESULTS=10

# ===========================================
# 数据库配置
# ===========================================

# 数据库主机地址
DB_HOST=localhost

# 数据库端口
DB_PORT=5432

# 数据库名称
DB_NAME=sage_memory

# 数据库用户名
DB_USER=sage

# 数据库密码
DB_PASSWORD=sage123

# 完整数据库连接字符串 (可选，会覆盖上面的单独配置)
# DATABASE_URL=postgresql://sage:sage123@localhost:5432/sage_memory

# ===========================================
# PostgreSQL 容器配置
# ===========================================

# PostgreSQL 数据目录
PGDATA=/var/lib/postgresql/data

# PostgreSQL 管理员密码
POSTGRES_PASSWORD=sage123

# ===========================================
# 向量化服务配置
# ===========================================

# SiliconFlow API密钥 (用于云端向量化)
SILICONFLOW_API_KEY=your_api_key_here

# 向量化服务基础URL (可选)
# VECTORIZER_BASE_URL=https://api.siliconflow.cn/v1

# 是否启用本地向量化备份 (true/false)
# USE_LOCAL_VECTORIZATION=false

# ===========================================
# MCP 服务配置
# ===========================================

# MCP 服务器名称
MCP_SERVER_NAME=sage

# MCP 协议版本
MCP_PROTOCOL_VERSION=2024-11-05

# ===========================================
# Docker 容器配置
# ===========================================

# 容器名称
CONTAINER_NAME=sage-mcp

# 映射的数据库端口 (仅用于调试，生产环境建议移除)
DB_MAPPED_PORT=5432

# 容器健康检查间隔 (秒)
HEALTH_CHECK_INTERVAL=30

# 容器启动等待时间 (秒)
STARTUP_WAIT_TIME=40

# ===========================================
# 安全配置
# ===========================================

# JWT 密钥 (用于API认证，生产环境请使用强密码)
# JWT_SECRET=your_jwt_secret_here

# OAuth2 客户端配置 (如果使用OAuth认证)
# OAUTH_CLIENT_ID=your_oauth_client_id
# OAUTH_CLIENT_SECRET=your_oauth_client_secret

# ===========================================
# 性能调优配置
# ===========================================

# 数据库连接池大小
# DB_POOL_SIZE=10

# 数据库连接超时时间 (秒)
# DB_TIMEOUT=30

# 向量化请求超时时间 (秒)
# VECTORIZER_TIMEOUT=30

# ===========================================
# 监控和调试
# ===========================================

# 是否启用性能监控 (true/false)
# ENABLE_MONITORING=false

# 是否启用调试模式 (true/false)
# DEBUG_MODE=false

# 是否在容器中启用外部数据库端口访问
# ENABLE_DB_EXTERNAL_ACCESS=true

# ===========================================
# 说明
# ===========================================

# 必填配置项:
# - SILICONFLOW_API_KEY (如果使用云端向量化)
# - DB_PASSWORD / POSTGRES_PASSWORD
# 
# 可选配置项:
# - 其他大部分配置都有合理的默认值
#
# 生产环境建议:
# - 使用强密码
# - 禁用调试模式
# - 配置适当的日志级别
# - 关闭不必要的端口映射